<!--
WGBH Asset 1
index.hml
wgbh-asset1
astro.unl.edu
2019-06-19
-->

<!doctype html>
<head>
<title>WGBH Asset 1</title>
<script src="Asset1/Asset1.js"></script>
<script src="js/ResizeSensor.js"></script>

<style>

body {
	background-color: black;
	padding: 0;
	margin: 0;
}


#asset1-container {
	position: fixed;
	overflow: hidden;
	padding: 0;
	margin: 0;
	width: 100%;
	height: 100%;
	background-color: green;
}

</style>

</head>
<body>


<!--
TODO: swap in new full-view framework
-->


<div id="asset1-container"></div>

<script>

var container = document.getElementById("asset1-container");

var asset1 = new window.WGBH.Asset1();
container.appendChild(asset1.getElement());

var bb = container.getBoundingClientRect();
var lastWidth = bb.width;
var lastHeight = bb.height;

let initParams = {
	width: lastWidth,
	height: lastHeight
};

asset1.setParams(initParams);
asset1.update();

var sensor = new ResizeSensor(container, () => {

	let bb = container.getBoundingClientRect();
	
	if (bb.width === lastWidth && bb.height === lastHeight) {
		return;
	}

	let params = {
		width: bb.width,
		height: bb.height
	};

	asset1.setParams(params);
	asset1.update();

	lastWidth = bb.width;
	lastHeight = bb.height;
});

</script>

</body>
</html>

